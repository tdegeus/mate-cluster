
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Linux &mdash; Cluster manual  documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.1.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Cluster manual  documentation" href="index.html" />
    <link rel="next" title="Language specific remarks/examples" href="languages.html" />
    <link rel="prev" title="FAQ and tips" href="tips.html" />

<link rel="stylesheet" type="text/css" href="_static/custom.css" />
<link rel="stylesheet" type="text/css" href="_static/colorbox/colorbox.css" />

<script type="text/javascript" src="_static/colorbox/jquery.colorbox-min.js"></script>

<script type="text/javascript">
	function endsWith(str, suffix) {
	    return str.indexOf(suffix, str.length - suffix.length) !== -1;
	}

    $(document).ready(function() {
    	var im, imsrc;
    	$('img').each(function() {
    		im = $(this);
    		imsrc = im.attr('src');
    		imalt = im.attr('alt');
    		if (endsWith(imsrc, 'svg')) {
    			im.wrap($('<a>').attr({'href': imsrc, 'title': imalt}).addClass('svglink'));
    		}
        if (endsWith(imsrc, 'png')) {
    			im.wrap($('<a>').attr({'href': imsrc, 'title': imalt}).addClass('pnglink'));
    		}
    	});

    	$('a.svglink').colorbox({
    		'width': '85%',
    		'height': '85%',
    		'photo': true});

      $('a.pnglink').colorbox({
    		'width': '85%',
    		'height': '85%',
    		'photo': true});


    });

</script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><img src="_static/MateLogo.png">
          Cluster manual</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mate.html">MaTe clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="queuing.html">The queuing system</a></li>
<li class="toctree-l1"><a class="reference internal" href="etiquette.html">Monitoring and etiquette</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips.html">FAQ and tips</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="#the-bash-shell">The BASH-shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="languages.html">Language specific remarks/examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="people.html">Cluster users</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Linux</a><ul>
<li><a class="reference internal" href="#the-mis-use-of-the-name">The (mis)use of the name</a></li>
<li><a class="reference internal" href="#linux-file-structure">Linux file structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-bash-shell">The BASH-shell</a><ul>
<li><a class="reference internal" href="#commands">Commands</a></li>
<li><a class="reference internal" href="#redirecting-output">Redirecting output</a></li>
<li><a class="reference internal" href="#basic-scripting">Basic scripting</a></li>
<li><a class="reference internal" href="#environment-settings">Environment settings</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="tips.html" title="Previous Chapter: FAQ and tips"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; FAQ and tips</span>
    </a>
  </li>
  <li>
    <a href="languages.html" title="Next Chapter: Language specific remarks/examples"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Language specifi... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/linux_bash.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Linux</a><ul>
<li><a class="reference internal" href="#the-mis-use-of-the-name">The (mis)use of the name</a></li>
<li><a class="reference internal" href="#linux-file-structure">Linux file structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-bash-shell">The BASH-shell</a><ul>
<li><a class="reference internal" href="#commands">Commands</a></li>
<li><a class="reference internal" href="#redirecting-output">Redirecting output</a></li>
<li><a class="reference internal" href="#basic-scripting">Basic scripting</a></li>
<li><a class="reference internal" href="#environment-settings">Environment settings</a></li>
</ul>
</li>
</ul>

<div id="sourcelink">
  <a href="_sources/linux_bash.txt"
     rel="nofollow">Source</a>
</div>
<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="contents local topic" id="outline">
<p class="topic-title first"><strong>Outline</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#linux" id="id1">Linux</a><ul>
<li><a class="reference internal" href="#the-mis-use-of-the-name" id="id2">The (mis)use of the name</a></li>
<li><a class="reference internal" href="#linux-file-structure" id="id3">Linux file structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-bash-shell" id="id4">The BASH-shell</a><ul>
<li><a class="reference internal" href="#commands" id="id5">Commands</a></li>
<li><a class="reference internal" href="#redirecting-output" id="id6">Redirecting output</a></li>
<li><a class="reference internal" href="#basic-scripting" id="id7">Basic scripting</a></li>
<li><a class="reference internal" href="#environment-settings" id="id8">Environment settings</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="linux">
<span id="sec-linux"></span><h1><a class="toc-backref" href="#outline">Linux</a><a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h1>
<p>Both the Noise and Furnace clusters run on <a class="reference external" href="http://www.centos.org">CentOS</a>, which is a so called Linux Operating System (OS). Other examples of operating systems are Windows or Mac OS. Linux operating systems are also known as &#8220;Distributions&#8221; because they basically are a collection of software packages, which are &#8220;distributed&#8221; to the users. Other popular Linux distributions are: Ubuntu, Fedora and openSuse, but there are many more (see for example <a class="reference external" href="http://www.distrowatch.com">distrowatch</a> for an overview of all distributions).</p>
<div class="section" id="the-mis-use-of-the-name">
<h2><a class="toc-backref" href="#outline">The (mis)use of the name</a><a class="headerlink" href="#the-mis-use-of-the-name" title="Permalink to this headline">¶</a></h2>
<p>Within this software collection, almost always a package called Linux is found, which is the &#8220;kernel&#8221;. This particular piece of software is very important, because it handles the connection between the hardware and all the other pieces of software. However, when people speak about Linux, they typically mean a distribution containing Linux. It is like calling an airplane by the name of its engine, which is a bit awkward, but this is just how it is.</p>
<p>Most users never interact with the &#8220;kernel&#8221;, they experience the pieces of software that provide the user interface (UI). UIs come in two flavors, the Graphical User Interface (GUI) and the Command Line Interface (CLI). When you install a Linux Distribution on your own computer it typically comes with a GUI or desktop environment, e.g. Gnome and KDE. The MaTe clusters only offer a CLI, which is basically a terminal (&#8220;window&#8221;) which presents you a prompt, where you can type a command.</p>
</div>
<div class="section" id="linux-file-structure">
<h2><a class="toc-backref" href="#outline">Linux file structure</a><a class="headerlink" href="#linux-file-structure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Directories (folders) are delimited with a <tt class="docutils literal"><span class="pre">/</span></tt> (instead of a <tt class="docutils literal"><span class="pre">\</span></tt> in Windows).</li>
<li>The top most directory (or root) is called <tt class="docutils literal"><span class="pre">/</span></tt>. Hard-drives, other media, or even remote file systems can be mounted anywhere. For example a USB drive is commonly mounted at <tt class="docutils literal"><span class="pre">/media/mystick</span></tt>. In contrast to Windows where each drive has a different name in the file-tree (e.g. <tt class="docutils literal"><span class="pre">C:\</span></tt>).</li>
<li>All characters can be used in directory and file names, but it is best not to use spaces or other exotic characters (e.g. <tt class="docutils literal"><span class="pre">*</span></tt>, <tt class="docutils literal"><span class="pre">&quot;</span></tt>, <tt class="docutils literal"><span class="pre">'</span></tt>).</li>
<li>File names starting with a <tt class="docutils literal"><span class="pre">.</span></tt> are hidden files, and are not visible by default.</li>
<li>Each user has his or her own home-folder which is typically located at <tt class="docutils literal"><span class="pre">/home/myusername</span></tt>.</li>
</ul>
</div>
</div>
<div class="section" id="the-bash-shell">
<span id="sec-bash"></span><h1><a class="toc-backref" href="#outline">The BASH-shell</a><a class="headerlink" href="#the-bash-shell" title="Permalink to this headline">¶</a></h1>
<p>To interact with the Linux operating system a Shell is used. In this command line environment, commands given by the user are interpreted by the Shell. Several Shells exist, each with its own syntax and built-in commands. One of the most popular and default on the MaTe clusters is the Bash-shell.</p>
<p>Before introducing several features of the Bash-shell it is useful to discuss the basic controls. In principle the only form of control is through the keyboard. The exception is copying and pasting (parts) of commands, which is <strong>exclusively</strong> done using the mouse. <tt class="docutils literal"><span class="pre">Crtl+c</span></tt>, <tt class="docutils literal"><span class="pre">Crtl+v</span></tt>, etc. have a different meaning (see below). Specifically, highlighted text is automatically copied to the clipboard. It is pasted using the middle mouse-button. Alternatively, the <tt class="docutils literal"><span class="pre">copy</span></tt> and <tt class="docutils literal"><span class="pre">paste</span></tt> command can be reached through the right mouse-button. Several other basic controls are listed below.</p>
<ul>
<li><p class="first">Each command follows a prompt that is displayed by the terminal. For example:</p>
<div class="highlight-bash"><pre>[username@furnace ~]$</pre>
</div>
</li>
<li><p class="first">A command is followed by <tt class="docutils literal"><span class="pre">return</span></tt> to execute the command.</p>
</li>
<li><p class="first">By pressing <tt class="docutils literal"><span class="pre">TAB</span></tt>, Bash will try to auto-complete your typed command, pressing <tt class="docutils literal"><span class="pre">TAB</span></tt> twice will print auto-complete suggestions.</p>
</li>
<li><p class="first">To stop a command <tt class="docutils literal"><span class="pre">Ctrl+c</span></tt> is used. It is adviced <strong>not</strong> to use <tt class="docutils literal"><span class="pre">Ctrl+z</span></tt> or <tt class="docutils literal"><span class="pre">Ctrl+s</span></tt> which, respectively, sleeps or freezes a command.</p>
</li>
<li><p class="first">To move the location of the cursor (by definition only possible inside the current command) the keys <img class="math" src="_images/math/d5f9d8910bf9b877d37f48c842c045883c51300b.png" alt="\leftarrow"/>, <img class="math" src="_images/math/e12b6767375342ed57d27678e3ea1cdb97f47e15.png" alt="\rightarrow"/>, <tt class="docutils literal"><span class="pre">Home</span></tt>, and <tt class="docutils literal"><span class="pre">End</span></tt>  can be used.</p>
</li>
<li><p class="first">To move through the history the keys <img class="math" src="_images/math/d39cad522ccbe5a31209793365754665a4d65556.png" alt="\uparrow"/> and <img class="math" src="_images/math/d95bdb4067e8005d19d15bfbd4e83d8980336c65.png" alt="\downarrow"/> are used. Alternatively, the history can be searched using <tt class="docutils literal"><span class="pre">Crtl+r</span></tt> followed by keywords. To progress through the selection, use <tt class="docutils literal"><span class="pre">Crtl+r</span></tt>. It is noticed that when pressing <tt class="docutils literal"><span class="pre">return</span></tt> the selected command is directly executed. Use the <img class="math" src="_images/math/e12b6767375342ed57d27678e3ea1cdb97f47e15.png" alt="\rightarrow"/> to edit the selected command in stead.</p>
</li>
<li><p class="first">To log-out <tt class="docutils literal"><span class="pre">Crtl+d</span></tt> is used, this is equivalent of typing <tt class="docutils literal"><span class="pre">exit</span></tt>.</p>
</li>
</ul>
<div class="section" id="commands">
<h2><a class="toc-backref" href="#outline">Commands</a><a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id9">Overview</a></li>
<li><a class="reference internal" href="#cd-change-directory" id="id10"><strong class="command">cd</strong> &#8211; change directory</a></li>
<li><a class="reference internal" href="#ls-list-directory-contents" id="id11"><strong class="command">ls</strong> &#8211; list directory contents</a></li>
<li><a class="reference internal" href="#cp-rm-mv-file-operations" id="id12"><strong class="command">cp</strong>, <strong class="command">rm</strong>, <strong class="command">mv</strong> &#8211; File operations</a><ul>
<li><a class="reference internal" href="#copy" id="id13">Copy</a></li>
<li><a class="reference internal" href="#remove" id="id14">Remove</a></li>
<li><a class="reference internal" href="#move" id="id15">Move</a></li>
<li><a class="reference internal" href="#make-a-directory" id="id16">Make a directory</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h3><a class="toc-backref" href="#contents">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h3>
<p>In general a command consists of three parts: the command, options, and input arguments. Without going into detail, we consider an example. The command</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> tar -czp -f outputname.tar.gz foldername
</pre></div>
</div>
<p>creates a compressed archive. This command can be divided as follows</p>
<div class="highlight-bash"><div class="highlight"><pre>prompt <span class="nv">$ </span><span class="nb">command</span> &lt;options&gt; arguments

<span class="c"># prompt:   [username@furnace ~]$</span>
<span class="c"># command:  tar</span>
<span class="c"># options:  -czp -f outputname.tar.gz</span>
<span class="c"># argument: foldername</span>
</pre></div>
</div>
<p>From this, we observe that different parts of the command are separated by spaces. Also, we observe that options begin with a &#8220;<tt class="docutils literal"><span class="pre">-</span></tt>&#8221;. Furthermore some options require an argument. As is observed for the <tt class="docutils literal"><span class="pre">-f</span></tt> option, the argument directly follows the option. Finally, it is remarked that options are commonly combined. In the command above the options <tt class="docutils literal"><span class="pre">-c</span></tt>, <tt class="docutils literal"><span class="pre">-z</span></tt> and <tt class="docutils literal"><span class="pre">-p</span></tt> are grouped to <tt class="docutils literal"><span class="pre">-czp</span></tt>.</p>
<p>Most commands have a manual page. This page is found using</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> man commandname
</pre></div>
</div>
<p>This opens a simple text-viewer. Using the <img class="math" src="_images/math/d95bdb4067e8005d19d15bfbd4e83d8980336c65.png" alt="\downarrow"/> / <img class="math" src="_images/math/d39cad522ccbe5a31209793365754665a4d65556.png" alt="\uparrow"/>, <tt class="docutils literal"><span class="pre">PageUp</span></tt> / <tt class="docutils literal"><span class="pre">PageDown</span></tt>, and the scroll wheel on the mouse one can scroll through the manual page. To close the editor type <tt class="docutils literal"><span class="pre">q</span></tt>. The <tt class="docutils literal"><span class="pre">man</span></tt> command prompts accepts the same commands as the <tt class="docutils literal"><span class="pre">less</span></tt>-viewer.</p>
<p>Alternatively, a short manual page can often be printed to the screen. This is provided by the command itself, i.e.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> commandname -h
<span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> commandname --help
</pre></div>
</div>
<p>Several useful commands are listed, the most important ones are elaborated in the following sections.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong class="command">pwd</strong></td>
<td>print the current working directory</td>
</tr>
<tr class="row-odd"><td><strong class="command">ls</strong></td>
<td>list directory contents</td>
</tr>
<tr class="row-even"><td><strong class="command">du</strong></td>
<td>report disk usage of files</td>
</tr>
<tr class="row-odd"><td><strong class="command">find</strong></td>
<td>search and find files</td>
</tr>
<tr class="row-even"><td><strong class="command">cd</strong></td>
<td>change directory</td>
</tr>
<tr class="row-odd"><td><strong class="command">mkdir</strong></td>
<td>make a directory</td>
</tr>
<tr class="row-even"><td><strong class="command">cp</strong></td>
<td>copy files (and directories with the <em class="xref std std-option">-r</em> option)</td>
</tr>
<tr class="row-odd"><td><strong class="command">mv</strong></td>
<td>move (rename) files and directories</td>
</tr>
<tr class="row-even"><td><strong class="command">rm</strong></td>
<td>remove files (and directories with the <em class="xref std std-option">-r</em> option)</td>
</tr>
<tr class="row-odd"><td><strong class="command">cat</strong></td>
<td>concatenate files and print on the standard output</td>
</tr>
<tr class="row-even"><td><strong class="command">head</strong></td>
<td>print the first few lines of a file</td>
</tr>
<tr class="row-odd"><td><strong class="command">tail</strong></td>
<td>print the last few lines of a file</td>
</tr>
<tr class="row-even"><td><strong class="command">grep</strong></td>
<td>Globally search a Regular Expression and Print,
use this for simple output filtering</td>
</tr>
<tr class="row-odd"><td><strong class="command">less</strong></td>
<td>a text-file viewer</td>
</tr>
<tr class="row-even"><td><strong class="command">top</strong></td>
<td>display Linux tasks</td>
</tr>
<tr class="row-odd"><td><strong class="command">ps</strong></td>
<td>report a process status list</td>
</tr>
<tr class="row-even"><td><strong class="command">which</strong></td>
<td>shows the full path of (shell) commands</td>
</tr>
<tr class="row-odd"><td><strong class="command">chmod</strong></td>
<td>change file mode bits (permissions)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="cd-change-directory">
<h3><a class="toc-backref" href="#contents"><strong class="command">cd</strong> &#8211; change directory</a><a class="headerlink" href="#cd-change-directory" title="Permalink to this headline">¶</a></h3>
<img src="_images/file-structure.svg" width="300px" /><p>The change directory (<strong class="command">cd</strong>) command can be used to navigate through the file-tree by changing the current directory. Let us use an example of a file-tree such as displayed above. Typically the terminal will start in the user&#8217;s home folder, i.e.</p>
<div class="highlight-bash"><pre>[username@furnace ~]$</pre>
</div>
<p>where the current directory is indicated between brackets: <tt class="docutils literal"><span class="pre">[</span> <span class="pre">...</span> <span class="pre">]</span></tt>. Notice that <tt class="docutils literal"><span class="pre">[</span> <span class="pre">~</span> <span class="pre">]</span></tt> is the abbreviation of <tt class="docutils literal"><span class="pre">[</span> <span class="pre">/home/username</span> <span class="pre">]</span></tt>. We can now change directory by typing</p>
<div class="highlight-bash"><pre>[username@furnace ~]$ cd ~/sim/sub1
[username@furnace sub1]$</pre>
</div>
<p>where the change of directory is specified in absolute sense. Alternatively, we can use a relative file-path to do the same. In a relative file-path definition use</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">./</span></tt> to denote the current directory</li>
<li><tt class="docutils literal"><span class="pre">../</span></tt> to denote the one directory up</li>
<li><tt class="docutils literal"><span class="pre">../../</span></tt> to denote the two directories up</li>
</ul>
<p>The previous command could therefore also be specified as follows</p>
<div class="highlight-bash"><pre>[username@furnace ~]$ cd ./sim/sub1
[username@furnace sub1]$</pre>
</div>
<p>where <tt class="docutils literal"><span class="pre">./</span></tt> is not strictly necessary, i.e.</p>
<div class="highlight-bash"><pre>[username@furnace ~]$ cd sim/sub1
[username@furnace sub1]$</pre>
</div>
<p>is equivalent. If we would now like to change the directory to <tt class="file docutils literal"><span class="pre">~/sim/sub2</span></tt> we could use a relative path definition:</p>
<div class="highlight-bash"><pre>[username@furnace sub1]$ cd ../sub2
[username@furnace sub2]$</pre>
</div>
<p>Notice that it is convenient to use relative file definitions inside code, as it is not dependent on the file structure. For example if <tt class="file docutils literal"><span class="pre">../sub2/</span></tt> would have been included in a code, the code is not influenced by changing <tt class="docutils literal"><span class="pre">sim</span></tt> to <tt class="docutils literal"><span class="pre">test</span></tt>. In contrast, if we would have used an absolute path, the code would fail.</p>
</div>
<div class="section" id="ls-list-directory-contents">
<h3><a class="toc-backref" href="#contents"><strong class="command">ls</strong> &#8211; list directory contents</a><a class="headerlink" href="#ls-list-directory-contents" title="Permalink to this headline">¶</a></h3>
<p>The contents (files and directories) of the current directory are listed in &#8220;matrix&#8221; format using</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span>ls
</pre></div>
</div>
<p>Depending on the shell and the terminal that are used, executable files, files, and folders are highlighted differently. By specifying (optional) input arguments, the contents of directories other than the current directory are listed. For the example above</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> ls ~/sim/sub1
</pre></div>
</div>
<p>would list one file, <tt class="file docutils literal"><span class="pre">output.log</span></tt>.</p>
<p>More detailed file information can be obtained using the <em class="xref std std-option">-lh</em> option. For example</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> ls -lh ~/sim/sub1
</pre></div>
</div>
<p>would output for example</p>
<div class="highlight-bash"><div class="highlight"><pre>-rw-rw-r-- 1 exuser exgroup 26K Sep 18 11:57 output.log

1. permissions
2. count
3. owner
4. size
5. <span class="nb">time</span>/data modified
6. name
</pre></div>
</div>
<p>Or more specifically</p>
<ol class="arabic">
<li><p class="first">In Linux each file/directory/link has permissions. In the output of <strong class="command">ls -l</strong> these permissions break down as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre>a. -      -/d/l
b. rw-    user
c. rw-    group
d. r--    other
</pre></div>
</div>
<p>Herein, the first item specifies if the item is a file (<tt class="docutils literal"><span class="pre">-</span></tt>), a directory (<tt class="docutils literal"><span class="pre">d</span></tt>), or link (<tt class="docutils literal"><span class="pre">l</span></tt>). The next three
group specify the permissions of the file&#8217;s owner, its group (both specified in 3.), and other users.
Herein <tt class="docutils literal"><span class="pre">r</span></tt> corresponds to read permission, <tt class="docutils literal"><span class="pre">w</span></tt> to write permission, and <tt class="docutils literal"><span class="pre">x</span></tt> to execute permission.
In this case the user <tt class="docutils literal"><span class="pre">exuser</span></tt> is allowed to read and write the file. The same permission resides with users in the group
<tt class="docutils literal"><span class="pre">exgroup</span></tt>, while other users may only read the file.</p>
<p>From this it follows that an executable in Linux is nothing more than a file (e.g. plain text) with the right permissions.
The <tt class="docutils literal"><span class="pre">extension</span></tt> is in principle meaningless. The file can be made executable using the command chmod, e.g.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>chmod u + x output . log
</pre></div>
</div>
<p>More information is found <a class="reference external" href="http://www.tuxfiles.org/linuxhelp/filepermissions.html">online</a>.</p>
</li>
<li><p class="first">The number of directories and links inside the item. For a file the counter is always equal to one.</p>
</li>
<li><p class="first">The user- and group-name to which the file belongs.</p>
</li>
<li><p class="first">The size of the file. Because we have used the <em class="xref std std-option">-h</em> option, this is in human readable format (i.e. kilo-, mega-, giga-, or terabytes).</p>
</li>
<li><p class="first">The time and date of the last modification to the file.</p>
</li>
<li><p class="first">The file name</p>
</li>
</ol>
</div>
<div class="section" id="cp-rm-mv-file-operations">
<h3><a class="toc-backref" href="#contents"><strong class="command">cp</strong>, <strong class="command">rm</strong>, <strong class="command">mv</strong> &#8211; File operations</a><a class="headerlink" href="#cp-rm-mv-file-operations" title="Permalink to this headline">¶</a></h3>
<p>The copy (<strong class="command">cp</strong>), remove (<strong class="command">rm</strong>), and move (<strong class="command">mv</strong>) commands are used to do file operations, directories are created using <strong class="command">mkdir</strong>.</p>
<div class="section" id="copy">
<h4><a class="toc-backref" href="#contents">Copy</a><a class="headerlink" href="#copy" title="Permalink to this headline">¶</a></h4>
<p>To copy a file:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>cp <span class="nb">source </span>destination
</pre></div>
</div>
<p>For example to make a backup of the <tt class="file docutils literal"><span class="pre">output.log</span></tt> file, used as an example in the previous section, in the same folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>cp ~/ sim / sub1 / output . log ~/ sim / sub1 / output . bak
</pre></div>
</div>
<p>If this command is issued from the <tt class="file docutils literal"><span class="pre">~/sim/sub1</span></tt> directory, the relative command</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace sub1<span class="o">]</span> <span class="nv">$cp</span> output . log output . bak
</pre></div>
</div>
<p>is sufficient.</p>
<p>If a directory is copied, the <em class="xref std std-option">-r</em> (recursive) options should be specified to also copy all the content of the directory. For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>cp -r ~/ sim / sub2 ~/ sim / sub3
</pre></div>
</div>
</div>
<div class="section" id="remove">
<h4><a class="toc-backref" href="#contents">Remove</a><a class="headerlink" href="#remove" title="Permalink to this headline">¶</a></h4>
<p>Analogous to the copy command, a file is removed using</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>rm filename
</pre></div>
</div>
<p>To remove a directory use</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>rm -r directoryname
</pre></div>
</div>
<p>Notice that, in principle, removed files cannot be recovered, i.e. there is no such thing as a recycle bin when removing files from the command line. For convenience, wild-cards can be used. One example of a wild-card is <tt class="docutils literal"><span class="pre">*</span></tt>. Simply said, the <tt class="docutils literal"><span class="pre">*</span></tt> replaces zero or more characters. For example to remove all log files in the <tt class="file docutils literal"><span class="pre">~/sim/sub1</span></tt> folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace sub1<span class="o">]</span> <span class="nv">$ </span>rm *. log
</pre></div>
</div>
<p>which in this case would remove only <tt class="file docutils literal"><span class="pre">output.log</span></tt>. In contrast, the command</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>rm -r ~/ sim / sub *
</pre></div>
</div>
<p>would remove all the directories beginning with <tt class="docutils literal"><span class="pre">sub</span></tt>, which, in this case would be both the directories <tt class="docutils literal"><span class="pre">sub1</span></tt> and <tt class="docutils literal"><span class="pre">sub2</span></tt> including all their content.</p>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p>Never use the command</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>rm -r *.*
</pre></div>
</div>
<p class="last">since it removes all files and directories up and down the file-tree (includes those that are hidden) to which the user has permissions. Thus, all your files on the computer are permanently lost. The <tt class="docutils literal"><span class="pre">.*</span></tt> in the wildcard string also matches <tt class="docutils literal"><span class="pre">..</span></tt> which causes the remove command to also remove higher laying directories. This mistake is typically made by DOS users, where it has a different meaning. In a Linux environment, <strong class="command">rm -r *</strong> is usually the intended command, i.e. empty the current directory.</p>
</div>
</div>
<div class="section" id="move">
<h4><a class="toc-backref" href="#contents">Move</a><a class="headerlink" href="#move" title="Permalink to this headline">¶</a></h4>
<p>To move a file to a different location (or to rename a file) the following command is used (for files and directories)</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace ~<span class="o">]</span> <span class="nv">$ </span>mv <span class="nb">source </span>destination
</pre></div>
</div>
<p>For example to rename the <tt class="file docutils literal"><span class="pre">output.log</span></tt> file:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace sub1<span class="o">]</span> <span class="nv">$ </span>mv output . log output . txt
</pre></div>
</div>
<p>To add this file to the <tt class="file docutils literal"><span class="pre">~/sim/sub2</span></tt> directory:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace sub1<span class="o">]</span> <span class="nv">$ </span>mv output . log ../ sub2 / output . txt
</pre></div>
</div>
</div>
<div class="section" id="make-a-directory">
<h4><a class="toc-backref" href="#contents">Make a directory</a><a class="headerlink" href="#make-a-directory" title="Permalink to this headline">¶</a></h4>
<p>To create a directory, use the command</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>myname@furnace sub1<span class="o">]</span> <span class="nv">$ </span>mkdir dirname
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="redirecting-output">
<h2><a class="toc-backref" href="#outline">Redirecting output</a><a class="headerlink" href="#redirecting-output" title="Permalink to this headline">¶</a></h2>
<p>Redirecting output is a powerful capability of (among others) Bash. This way the output that is printed to standard Input/Output (i.e. the screen) can be intercepted and used differently. The output can be transferred to another command using <tt class="docutils literal"><span class="pre">|</span></tt>, or it can be stored to a file using <tt class="docutils literal"><span class="pre">&gt;</span></tt> or appended to a file using <tt class="docutils literal"><span class="pre">&gt;&gt;</span></tt>.</p>
<p>For example to find the lines in which error messages are included in the file <tt class="file docutils literal"><span class="pre">output.log</span></tt>, we could use:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace sub1<span class="o">]</span><span class="nv">$ </span> cat output.log | grep -n <span class="s2">&quot;error&quot;</span>
</pre></div>
</div>
<p>The <strong class="command">cat</strong> command outputs the contents of the <tt class="file docutils literal"><span class="pre">output.log</span></tt> file. The <strong class="command">grep</strong> command intercepts this output and prints the lines matching the pattern <tt class="docutils literal"><span class="pre">error</span></tt> (including the line numbers, because of the <em class="xref std std-option">-n</em> option).</p>
<p>These lines can be stored to a file <tt class="file docutils literal"><span class="pre">error.log</span></tt> using
the command</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace sub1<span class="o">]</span><span class="nv">$ </span> cat output.log | grep -n <span class="s2">&quot;error&quot;</span> &gt; error.log
</pre></div>
</div>
<p>To get the current directory as the top line of the file, we do</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace sub1<span class="o">]</span><span class="nv">$ </span> <span class="nb">pwd</span> &gt; error.log
</pre></div>
</div>
<p>which empties or creates the file <tt class="file docutils literal"><span class="pre">error.log</span></tt> and prints the current working directory. The file is now appended with the error lines by</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace sub1<span class="o">]</span><span class="nv">$ </span> cat output.log | grep -n <span class="s2">&quot;error&quot;</span> &gt;&gt; error.log
</pre></div>
</div>
<p>As a final note, the Bash shell considers two outputs, the <tt class="docutils literal"><span class="pre">stdout</span></tt> and the <tt class="docutils literal"><span class="pre">stderr</span></tt>. Any program can write to these outputs, and typically both are shown in the terminal window. It is possible to redirect each output differently, but this is considered outside the scope of this document.</p>
</div>
<div class="section" id="basic-scripting">
<h2><a class="toc-backref" href="#outline">Basic scripting</a><a class="headerlink" href="#basic-scripting" title="Permalink to this headline">¶</a></h2>
<p>Bash commands, some of which are introduced above, can be combined in a script. Such a script is an executable plain-text file. Below, we consider a very simple script <strong class="command">myscript</strong>. We first make the file and give the user executable permissions, e.g. by</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> touch myscript
<span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> chmod u+x myscript
</pre></div>
</div>
<p>We then edit the file&#8217;s contents to</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="c">#</span>
<span class="c"># This is a very simple script</span>

<span class="nv">varname</span><span class="o">=</span><span class="s2">&quot;Hello world&quot;</span>
<span class="nb">echo</span> <span class="nv">$varname</span>
</pre></div>
</div>
<p>In this script, the first line selects the environment in which the script is programmed, in this case the bash environment. Except for the shell-definition on the first line, any statement that follows a <tt class="docutils literal"><span class="pre">#</span></tt> is a comment and is not evaluated. The last two lines are the only lines of code, in which the string <tt class="docutils literal"><span class="pre">&quot;Hello</span> <span class="pre">world&quot;</span></tt> is assigned to the variable <tt class="docutils literal"><span class="pre">varname</span></tt>. In the second line, the <strong class="command">echo</strong> command prints the variable <tt class="docutils literal"><span class="pre">varname</span></tt>, and thus <tt class="docutils literal"><span class="pre">&quot;Hello</span> <span class="pre">world&quot;</span></tt>, to the screen. the variable name is preceded by a <tt class="docutils literal"><span class="pre">$</span></tt>, to get the value of a variable.</p>
</div>
<div class="section" id="environment-settings">
<h2><a class="toc-backref" href="#outline">Environment settings</a><a class="headerlink" href="#environment-settings" title="Permalink to this headline">¶</a></h2>
<p>If a script is often used, it can be useful to make it a &#8220;global&#8221; script, such that it can be used in the same way as for example <strong class="command">cd</strong>. To this end, it is common to create a directory <tt class="file docutils literal"><span class="pre">bin</span></tt> in the home folder:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> mkdir ~/bin
</pre></div>
</div>
<p>Next, Bash has to look for executable files in this directory. To this end, we add the new directory to the <span class="target" id="index-0"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PATH</span></tt> variable:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">[</span>username@furnace ~<span class="o">]</span><span class="nv">$ </span> <span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/bin:<span class="nv">$PATH</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">$HOME</span></tt> is equivalent to
<tt class="docutils literal"><span class="pre">~</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Beware that copy/pasting code from this page may not transfer correctly.</p>
</div>
<p>To avoid having to specify this after every new login, this (and other commands) can be added to the file <tt class="file docutils literal"><span class="pre">~/.bashrc</span></tt>. This file is evaluated at the beginning of each login. This file is commonly of the following format:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># .bashrc</span>

<span class="c"># Source global definitions</span>
<span class="k">if</span> <span class="o">[</span> -f /etc/bashrc <span class="o">]</span>; <span class="k">then</span>
   . /etc/bashrc
<span class="k">fi</span>

<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$HOME</span>/bin:<span class="nv">$PATH</span>
</pre></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Tom de Geus.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>